{% load static %}
<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>Ranking TV - {{ season.nome }}</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Condensed:wght@400;700&family=Roboto:wght@400;700;900&display=swap" rel="stylesheet">

    <style>
        body {
            margin: 0;
            min-height: 100vh;
            background: radial-gradient(circle at top, #1a1a2e 0%, #0f0f1a 100%); /* Fundo mais moderno (azul bem escuro) */
            color: #f5f5f5;
            font-family: 'Roboto', sans-serif;
            display: flex;
            flex-direction: column;
            overflow-x: hidden; /* Evita scroll lateral na TV */
        }
        
        @media (max-width: 768px) {
            .header { padding: 1.5vh 0; }
            .header-title { font-size: 2.5vw; }
            .header-sub { font-size: 1.2vw; }
            .board-container { padding: 1.5vw; }
            th { font-size: 1.4vw; padding: 1vw; }
            td { font-size: 1.6vw; padding: 0.8vw 1vw; }
        }

        .header {
            text-align: center;
            padding: 2vh 0;
            background: rgba(0,0,0,0.3);
            border-bottom: 1px solid #ffffff10;
        }

        .header-title {
            font-size: 3.5vw; /* Responsivo Ã  largura da TV */
            font-weight: 900;
            letter-spacing: 2px;
            text-transform: uppercase;
            color: #fff;
            text-shadow: 0 0 10px rgba(255,255,255,0.3);
        }

        .header-sub {
            font-size: 1.5vw;
            color: #90caf9;
            font-family: 'Roboto Condensed', sans-serif;
            margin-top: 5px;
        }

        .board-container {
            flex: 1;
            padding: 2vw;
            display: flex;
            justify-content: center;
        }

        .board {
            width: 100%;
            max-width: 1200px;
            background: rgba(20, 20, 30, 0.8);
            border-radius: 16px;
            box-shadow: 0 0 50px rgba(0,0,0,0.5);
            backdrop-filter: blur(10px);
            overflow: hidden;
        }

        table {
            width: 100%;
            border-collapse: collapse;
        }

        th {
            background: rgba(255,255,255,0.05);
            color: #90caf9;
            font-size: 1.8vw;
            text-transform: uppercase;
            padding: 1.5vw;
            text-align: left;
        }

        td {
            padding: 1.2vw 1.5vw;
            border-bottom: 1px solid rgba(255,255,255,0.05);
            font-size: 2.2vw;
        }

        /* Linha do LÃ­der (Dourada) */
        tr:nth-child(1) {
            background: linear-gradient(90deg, rgba(255, 215, 0, 0.15), transparent);
            border-left: 6px solid #ffd700;
        }
        
        /* Linha do Vice (Prata) */
        tr:nth-child(2) {
            border-left: 6px solid #c0c0c0;
        }

        /* Linha do 3Âº (Bronze) */
        tr:nth-child(3) {
            border-left: 6px solid #cd7f32;
        }

        .pos {
            font-weight: 900;
            width: 10%;
            font-family: 'Roboto Condensed', sans-serif;
            text-align: center;
        }

        .nome {
            font-weight: 700;
        }

        .pontos {
            text-align: right;
            font-weight: 900;
            color: #ffd700;
            font-family: 'Roboto Condensed', sans-serif;
            letter-spacing: 1px;
        }

        .medal {
            margin-right: 10px;
        }

    </style>
    
    <meta http-equiv="refresh" content="60"> 
</head>
<body>

<div class="header">
    <div class="header-title">
        {{ season.nome }}
    </div>
    <div class="header-sub">
        RANKING GERAL
    </div>
</div>

<div class="board-container">
    <div class="board">
        <table>
            <thead>
                <tr>
                    <th class="pos">#</th>
                    <th>Jogador</th>
                    <th style="text-align: right;">Pontos</th>
                </tr>
            </thead>
            <tbody>
                {% for item in ranking|slice:":10" %} {% with pos=item.posicao %}
                    <tr>
                        <td class="pos">
                            {% if pos == 1 %}ðŸ¥‡{% elif pos == 2 %}ðŸ¥ˆ{% elif pos == 3 %}ðŸ¥‰{% else %}{{ pos }}{% endif %}
                        </td>
                        <td class="nome">
                            {{ item.nome }}
                        </td>
                        <td class="pontos">
                            {{ item.pontos }}
                        </td>
                    </tr>
                    {% endwith %}
                {% empty %}
                    <tr><td colspan="3" style="text-align:center; padding: 40px;">Aguardando resultados...</td></tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>

</body>
</html>